# 这是宝藏☞关于数学的一切

写论文总是避不开公式，算法，本篇按照无脑用+解释说明的两个阶段为你揭开他们的神秘面纱

推荐使用我制作的论文模板，里面已经初步包含常用且推荐且最新的Package。



[学习资料1](https://www.mohu.org/info/symbols/symbols.htm)

[学习资料2](https://www.cnblogs.com/Coolxxx/p/5982439.html)



[toc]

## Equation



### 用什么包

```tex
\usepackage{mathtools, amsthm, amssymb}
```

解释说明，[参考](https://tex.stackexchange.com/questions/32100/what-does-each-ams-package-do)

> 1. mathtools = amsmath + other stuffs
>    `mathtools.sty` line 60 写有 `\RequirePackage{amsmath}`
>    因此推荐使用 mathtools 作为 导入的 package
>
> 2. amsmath 的全称是 **A**merican **M**athematical **S**ociety **Math**ematical，而前面提到的仨都出自AMS机构
>    添加目的是为了使用 equation*, align, eqnarray， 
>    以及 在公式里使用 \text{}，space, tag, eqref
>
> 3. amsthm 为了使用 \newtheorem；amssymb 为了使用 \mathbb
>
>    所有symbols看 [参考](http://milde.users.sourceforge.net/LUCR/Math/mathpackages/amssymb-symbols.pdf)





https://tex.stackexchange.com/questions/32100/what-does-each-ams-package-do



### 公式写法

行内公式

```tex
$E = mc^2$
```



单行公式，有编号

```Tex
\begin{equation}

\end{equation}
```



多行公式 手动对齐 (仅用一个编号)

```tex
\begin{equation}
\begin{aligned}
f(x)
&= ax + b \\
&= b + ax
\end{aligned}
\end{equation}
```



多行公式 自动对齐 (一个编号居中)

```latex
\begin{equation}
\begin{gathered}
f1 = ax + b \\
f2 = b + ax
\end{gathered}
\begin{equation}
```



多行公式 手动对齐 (每行都有编号)

```latex
\begin{align}
f(x)
&= ax + b \\
&= b + ax
\end{align}
```



多行公式 自动对齐 (一个编号居中)

```latex
\begin{gather}
f(x)
&= ax + b \\
&= b + ax
\end{gather}
```





求和求积分这种的上下标，通常行内公式是写在左右，单行公式是写在上下，有时候如果想要严格控制：

```tex
% 让行内的写在上下
$p = \sum\limits_{n=1}^N a_n$

% 让单行的写在左右
\begin{equation}
p = \sum\nolimits_{n=1}^Na_n
\end{equation}
```





公式的主要使用

特殊符号

加编号

对齐

字母字体





warning: 

不要使用$$ 双钱符号，[参考](https://tex.stackexchange.com/questions/503/why-is-preferable-to)



### 常用符号



- vertical bar

  `|` `\mid` `\lvert` `\rvert`
$$
  \mid a\mid \quad |a| \quad \lvert a \rvert
$$

标准用法是：条件概率那种 relation symbol，用`\mid`；绝对值那种 delimiter，用  `\lvert` `\rvert`









肯定要对齐的嘛，就用

```
```





公式编号



\allowdisplaybreaks 允许公式分页

但是，在 aligned split gathered alignedat 环境里 是 unbreakable 的，所以无效

可以考虑使用 align*



我们可以提前定义很多方便的操作





```tex
\DeclareMathOperator{\Ker}{Ker}
```

等价于

```tex
\newcommand{\Ker}{\operatorname{Ker}}
```



\DeclareMathOperator 还有一个带星号的版本，可以保证下标在底部，否则是在右下角的

```tex
\DeclareMathOperator*{\Max}{Max}
```





\newcommand{\w}{\ensuremath{\mathbf{w}}\xspace}

\DeclareMathOperator*{\argmax}{arg\,max}





### Theorems and proofs

ref: https://www.overleaf.com/learn/latex/Theorems_and_proofs



**无脑写：**

```tex
\usepackage{amsthm}
\newtheorem{theorem}{Theorem}
\newtheorem{proposition}{Proposition}
\newtheorem{definition}{Definition}
\newtheorem{lemma}{Lemma}
\newtheorem{corollary}{Corollary}
```



**解释：**

定义特殊格式和编号的环境，比如定理、定义、命题、注释、推论、引理等等。

```
\newtheorem{theorem}{Theorem}
```

```tex
% restarts the theorem counter at every new section.
\newtheorem{theorem}{Theorem}[section] 
% reset every time a new theorem environment is used.
\newtheorem{corollary}{Corollary}[theorem] 
% use the same counter as the theorem environment.
\newtheorem{lemma}[theorem]{Lemma} 
```

```tex
% Unnumbered
\newtheorem*{remark}{Remark}
```

修改风格使用 \theoremstyle{ }，可以用来修改字体



Proofs 是由 amsthm 提供的





## Algorithm

### Package

见到过的包括：algorithm, algorithmic, algorithmicx, algorithm2e



初步认识：

- **algorithm** - float wrapper for algorithms.
- **algorithmic** - first algorithm typesetting environment.
- **algorithmicx** - second algorithm typesetting environment.
- **algpseudocode** - layout for `algorithmicx`.
- **algorithm2e** - third algorithm typesetting environment.

 

一般用法：

```latex
\usepackage{algorithm}
\usepackage{algorithmic}
```



```
\begin{algorithm}
    \caption{Algorithm caption}
    \label{alg:algorithm-label}
	\begin{algorithmic}
    	\IF{some condition is true}
        \STATE do some processing
    \ELSIF{some other condition is true}
        \STATE do some different processing
    \ELSE
        \STATE do the default actions
    \ENDIF
	\end{algorithmic}
\end{algorithm}
```





交叉引用



\label{eqn:xx}

\eqref{eqn:xx} with brackets from amsmath



需要自动加上圆括号，以及加上前缀Eqn





转置

|                  |                |      |
| :--------------: | :------------: | ---- |
|    $A^{\top}$    |    A^{\top}    |      |
| $A^{\mathsf{T}}$ | A^{\mathsf{T}} |      |
|                  |                |      |

不同字体

|                                 |                               |                      |
| :-----------------------------: | :---------------------------: | :------------------: |
|             $x, X$              |             x, X              |                      |
|    $\mathbb{x}, \mathbb{X}$     |    \mathbb{x}, \mathbb{X}     |   blackboard-bold    |
|    $\mathbf{x}, \mathbf{X}$     |    \mathbf{x}, \mathbf{X}     |       boldface       |
|   $\mathcal{x}, \mathcal{X}$    |   \mathcal{x}, \mathcal{X}    |  calligraphic font   |
|    $\mathsf{x}, \mathsf{X}$     |    \mathsf{x}, \mathsf{X}     | sans serif typestyle |
|    $\mathrm{x}, \mathrm{X}$     |    \mathrm{x}, \mathrm{X}     |   roman typestyle    |
|    $\mathtt{x}, \mathtt{X}$     |    \mathtt{x}, \mathtt{X}     | typewriter typestyle |
|   $\mathscr{x}, \mathscr{X}$    |   \mathscr{x}, \mathscr{X}    |   script typestyle   |
| $\boldsymbol{x},\boldsymbol{X}$ | \boldsymbol{x},\boldsymbol{X} |                      |







### 自定义表示

`\newcommand{\Ker}{\operatorname{Ker}}`

https://tex.stackexchange.com/questions/67506/newcommand-vs-declaremathoperator

\DeclareMathOperator







并不是所有符号都会需要 \bb

因为只有 \mathbb{R}

因此这样的话，就可以定义为 \R
